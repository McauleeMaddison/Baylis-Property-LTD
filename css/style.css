/* =========================================
   Design Tokens
========================================= */
:root {
  /* Palette */
  --primary: #2c3e50;
  --primary-600: #243546;
  --secondary: #4a90e2;       /* accent (overridable by [data-accent]) */
  --secondary-600: #3b78bf;
  --danger: #e74c3c;
  --success: #22c55e;
  --warning: #f59e0b;

  --text-dark: #0f172a;
  --text: #1f2937;
  --text-muted: #6b7280;
  --text-light: #f9fafb;

  --bg: #f6f7fb;
  --bg-light: #ffffff;
  --bg-elevated: #ffffff;

  --border: #e5e7eb;
  --border-strong: #d1d5db;

  /* Effects */
  --radius: 12px;
  --radius-sm: 8px;
  --radius-xs: 6px;
  --radius-full: 999px;

  --shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  --shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.14);
  --ring: 0 0 0 3px rgba(74, 144, 226, 0.25);

  /* Motion */
  --transition-fast: .18s ease;
  --transition-med: .28s ease;
  --transition-smooth: .4s cubic-bezier(.4, 0, .2, 1);

  /* Accent hover fill (default Blue) */
  --accent-soft-bg: rgba(74, 144, 226, 0.12);
  --accent-soft-bd: rgba(74, 144, 226, 0.28);
}

/* Dark theme overrides */
body.dark {
  --bg: #0d1021;
  --bg-light: #141832;
  --bg-elevated: #171c3a;

  --text-dark: #e5e7eb;
  --text: #d1d5db;
  --text-muted: #9aa3b2;

  --border: #2b3047;
  --border-strong: #3a4161;

  --shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
  --shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.6);
  --ring: 0 0 0 3px rgba(74, 144, 226, 0.35);
}

/* =========================================
   Base / Reset
========================================= */
*,
*::before, *::after { box-sizing: border-box; }

html, body {
  height: 100%;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--text);
  scroll-behavior: smooth;
}

body { min-height: 100vh; padding-top: 70px; }

img { max-width: 100%; display: block; }
a { color: inherit; text-decoration: none; }
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible { outline: none; box-shadow: var(--ring); border-radius: var(--radius-xs); }

/* Utilities */
.container { max-width: 1200px; margin: 0 auto; padding: 0 1.2rem; }
.hidden { display: none !important; }
.muted { color: var(--text-muted); }
.center { display:grid; place-items:center; }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* =========================================
   Header / Navbar (matches your markup)
========================================= */
.site-header {
  position: fixed; inset: 0 0 auto 0; height: 70px;
  background: var(--bg-light);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow);
  z-index: 1000;
  transition: transform var(--transition-med), background var(--transition-med), box-shadow var(--transition-med);
}
.site-header.hide-nav { transform: translateY(-100%); }

.nav { height: 70px; display:flex; align-items:center; }
.nav-inner {
  width:100%; display:flex; align-items:center; justify-content:space-between; gap:1rem;
}
.logo { display:inline-flex; align-items:center; gap:.6rem; font-weight:800; letter-spacing:.04em; }
.logo img { width:28px; height:28px; object-fit:contain; }
.logo:hover { color: var(--secondary); transition: color var(--transition-fast); }

.hamb { display:none; font-size:1.4rem; border:1px solid var(--border); background:transparent; border-radius: var(--radius-xs); padding:.25rem .5rem; }
.hamb:hover { background: var(--accent-soft-bg); }

.nav-links { display:flex; align-items:center; gap: .9rem; }
.nav-links a {
  padding:.5rem .8rem; border-radius: var(--radius-xs); font-weight:600; transition: background var(--transition-fast), color var(--transition-fast);
}
.nav-links a:hover { background: var(--accent-soft-bg); color: var(--secondary); }
.nav-links a[aria-current="page"] { color: var(--secondary); background: var(--accent-soft-bg); }

@media (max-width: 768px) {
  .hamb { display:block; }
  .nav-links {
    position:absolute; top:70px; left:0; right:0; flex-direction:column; align-items:stretch;
    background: var(--bg-light); border-top: 1px solid var(--border); box-shadow: var(--shadow);
    max-height:0; overflow:hidden; transition:max-height var(--transition-smooth);
  }
  .nav-links.show { max-height: 520px; }
  .nav-links a { padding:.85rem 1rem; }
}

/* =========================================
   Buttons
========================================= */
.btn {
  --btn-bg: #eef2f7; --btn-fg: var(--text); --btn-bd: var(--border);
  background: var(--btn-bg); color: var(--btn-fg); border: 1px solid var(--btn-bd);
  padding: .6rem .95rem; border-radius: var(--radius-xs); font-weight:700; cursor:pointer;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow); }
.btn:active { transform: translateY(0); }

.btn-primary { --btn-bg: var(--secondary); --btn-fg:#fff; --btn-bd: var(--secondary-600); }
.btn-ghost   { --btn-bg: transparent; --btn-fg: var(--text); --btn-bd: var(--border); }
.btn-outline { --btn-bg: transparent; --btn-fg: var(--secondary); --btn-bd: var(--secondary); }
.btn-danger  { --btn-bg: var(--danger); --btn-fg:#fff; --btn-bd: #c0392b; }
.btn-success { --btn-bg: var(--success); --btn-fg:#fff; --btn-bd: #16a34a; }

.btn-small { padding:.35rem .6rem; font-size:.85rem; border-radius:8px; }
.btn-chip  { padding:.25rem .6rem; border-radius:999px; font-weight:600; border:1px solid var(--border); background:transparent; }
.btn-chip:hover { background: var(--accent-soft-bg); color: var(--secondary); }

/* Toggle buttons for panels */
.toggle-form-btn {
  background: var(--secondary); color: #fff; border: 1px solid var(--secondary-600);
  border-radius: var(--radius-xs); padding: .65rem 1.1rem; font-weight: 800; cursor: pointer;
  transition: background var(--transition-fast), transform var(--transition-fast);
}
.toggle-form-btn:hover { background: var(--secondary-600); transform: translateY(-1px); }

/* =========================================
   Forms
========================================= */
form { width:100%; }
.field { display:block; margin-bottom: .9rem; }
.field > span, .field > label { display:inline-block; font-weight:700; margin-bottom:.35rem; }

.input-group { display:grid; grid-template-columns: 1fr auto; gap:.5rem; align-items:center; }
.input-icon { position:relative; }
.input-icon input { padding-left: 2.25rem; }
.input-icon .icon { position:absolute; left:.6rem; top:50%; transform:translateY(-50%); color:var(--text-muted); }

input, select, textarea {
  width: 100%; padding: .7rem .8rem; border-radius: var(--radius-xs);
  border: 1px solid var(--border); background: var(--bg-elevated); color: var(--text);
  transition: border var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}
textarea { min-height: 120px; resize: vertical; }

input:hover, select:hover, textarea:hover { border-color: var(--border-strong); }
input:focus, select:focus, textarea:focus { border-color: var(--secondary); box-shadow: var(--ring); }

input:disabled, select:disabled, textarea:disabled { opacity:.6; cursor:not-allowed; }

.input-hint, .help { font-size:.88rem; color:var(--text-muted); margin-top:.25rem; }

input:invalid, select:invalid, textarea:invalid { border-color: var(--danger); }
input:valid,   select:valid,   textarea:valid   { border-color: var(--success); }

.checkbox { display:flex; align-items:center; gap:.45rem; user-select:none; }

/* Switch (dark mode) */
.switch { position:relative; display:inline-flex; align-items:center; gap:.45rem; cursor:pointer; }
.switch input { position:absolute; inset:0; opacity:0; pointer-events:none; }
.switch .slider {
  width: 44px; height: 24px; background: #c7d2fe; border-radius: var(--radius-full);
  transition: background var(--transition-fast); position:relative;
}
.switch .slider::after {
  content: ""; position:absolute; top:3px; left:3px; width:18px; height:18px; border-radius:50%;
  background:#fff; box-shadow:0 1px 3px rgba(0,0,0,.2); transition:left var(--transition-fast);
}
.switch input:checked + .slider { background:#60a5fa; }
.switch input:checked + .slider::after { left: 23px; }

/* =========================================
   Cards / Layout
========================================= */
.dashboard-cards {
  display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.1rem; margin-top: 1rem;
}
.dashboard-card {
  background: var(--bg-elevated);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.1rem;
  box-shadow: var(--shadow);
  transition: box-shadow var(--transition-med), transform var(--transition-med), border-color var(--transition-med), background var(--transition-med);
}
.dashboard-card:hover { box-shadow: var(--shadow-hover); transform: translateY(-2px); border-color: var(--border-strong); }

.dashboard-section h2 { font-size: 1.9rem; margin-bottom:.35rem; }
.dashboard-section p  { color: var(--text-muted); }

.form-wrapper { margin-top:.8rem; }
.form-wrapper:not(.hidden) { animation: slideDown .32s ease; }

/* Lists (requests & posts) */
.submission-log, .post-feed { list-style:none; margin:0; padding:0; display:grid; gap:.6rem; }
.submission-log li, .post-feed li {
  background: var(--bg-elevated); border:1px solid var(--border); border-radius: var(--radius-xs);
  padding:.7rem .8rem; box-shadow: var(--shadow);
}
.list-title { font-size:1rem; margin:.25rem 0; color: var(--text-muted); }

/* Badges / Chips */
.badge {
  display:inline-block; padding:.15rem .5rem; border-radius: var(--radius-full);
  background:#eef2ff; color:#374151; font-size:.78rem; border:1px solid #e0e7ff;
}
.chip {
  display:inline-block; padding:.15rem .55rem; border-radius: var(--radius-full);
  background:#eef2f7; font-size:.8rem; color:#374151; border:1px solid var(--border);
}
.chip.cleaning { background:#e6f4ff; border-color:#cae6ff; }
.chip.repair   { background:#fff2e6; border-color:#ffe0c2; }

/* =========================================
   Toasts
========================================= */
.toast {
  position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%) translateY(12px);
  min-width: 260px; max-width: calc(100% - 2rem);
  background: var(--primary); color: #fff; border-radius: var(--radius);
  padding: .9rem 1.1rem; box-shadow: var(--shadow-hover); opacity: 0; z-index: 9999;
  transition: transform var(--transition-smooth), opacity var(--transition-smooth);
}
.toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
.toast::after {
  content:""; display:block; height:3px; width:100%; margin-top:.6rem; border-radius:2px;
  background: rgba(255,255,255,.45); animation: toastProgress 3.1s linear forwards;
}
@keyframes toastProgress { from { width:100%; } to { width:0%; } }

/* =========================================
   Animations
========================================= */
@keyframes slideDown { from { opacity:0; transform: translateY(-8px);} to { opacity:1; transform: translateY(0);} }
@keyframes fadeInUp { from { opacity:0; transform: translateY(6px);} to { opacity:1; transform: translateY(0);} }
.animated { animation: fadeInUp .28s ease; }

@media (prefers-reduced-motion: reduce) {
  * { transition:none !important; animation:none !important; }
}

/* =========================================
   Kanban (Landlord)
========================================= */
.kanban { display:grid; grid-template-columns: repeat(3, 1fr); gap:.8rem; margin-top:1rem; }
.kanban-col {
  background: var(--bg-elevated); border:1px solid var(--border); border-radius: var(--radius);
  box-shadow: var(--shadow); padding:.6rem;
}
.kanban-header { display:flex; align-items:center; justify-content:space-between; margin:.2rem .2rem .5rem; }
.kanban-header .pill {
  background:#eaf2fa; color:#1f2937; padding:.1rem .55rem; border-radius: var(--radius-full); font-size:.82rem;
}
body.dark .kanban-header .pill { background:#3b4c64; color:#fff; }
.kanban-list { min-height: 180px; display:flex; flex-direction:column; gap:.55rem; }

.kanban-card {
  background: var(--bg-light); border:1px solid var(--border); border-radius: var(--radius-xs);
  padding:.55rem .65rem; box-shadow: var(--shadow); cursor:grab;
  transition: box-shadow var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
}
.kanban-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-hover); border-color: var(--border-strong); }
.kanban-card.dragging { opacity:.85; box-shadow: var(--shadow-hover); }

.kc-top { display:flex; align-items:center; justify-content:space-between; margin-bottom:.35rem; }
.kc-label { font-size:.95rem; color: var(--text); }
.kc-actions { display:flex; gap:.4rem; justify-content:flex-end; margin-top:.35rem; }
.btn-mini { font-size:.78rem; border:1px solid var(--border); border-radius:8px; background:transparent; padding:.22rem .5rem; cursor:pointer; }
.btn-mini:hover { background: var(--accent-soft-bg); color: var(--secondary); }

@media (max-width: 900px) { .kanban { grid-template-columns: 1fr; } }

/* =========================================
   Community (posts & comments)
========================================= */
.post-feed { list-style:none; margin:0; padding:0; display:grid; gap:.6rem; }
.post {
  border:1px solid var(--border); border-radius: var(--radius);
  background: var(--bg-elevated); padding:.9rem 1rem; box-shadow: var(--shadow);
}
.post__meta { display:flex; flex-wrap:wrap; gap:.35rem; align-items:center; font-size:.95rem; }
.post__title { margin:.2rem 0 .35rem; font-size:1.05rem; }
.post__body { white-space: pre-wrap; line-height: 1.5; }
.post__foot { display:flex; gap:.5rem; align-items:center; justify-content:space-between; margin-top:.6rem; flex-wrap:wrap; }
.post__mod { display:flex; gap:.35rem; }

.post__comments { margin-top:.6rem; border-top:1px dashed var(--border); padding-top:.6rem; }
.comment-list { list-style:none; margin:0; padding:0; display:grid; gap:.45rem; }
.comment {
  padding:.45rem .6rem; border-radius:10px; background: #f8fafc; border:1px dashed var(--border);
}
body.dark .comment { background:#222745; border-color:#353b63; }

/* =========================================
   Auth pages (login/register)
========================================= */
.auth-body { min-height:100vh; display:grid; place-items:center; background: var(--bg); }
.auth-shell { width:100%; max-width:1100px; padding:1rem; }
.auth-grid {
  display:grid; grid-template-columns: 1.1fr 1fr; gap:1rem;
}
.brand-panel {
  border:1px solid var(--border); border-radius: var(--radius); padding:1.2rem; background: var(--bg-elevated); box-shadow: var(--shadow);
}
.brand-logo { width:44px; height:44px; object-fit:contain; margin-bottom:.45rem; }
.auth-card {
  border:1px solid var(--border); border-radius: var(--radius); padding:1.2rem; background: var(--bg-elevated); box-shadow: var(--shadow);
}
.brand-points { margin:.6rem 0 0; padding-left:1.1rem; }
.brand-points li { margin:.22rem 0; }

.pw-meter { position:relative; height:6px; background:#e5e7eb; border-radius:999px; margin-top:.4rem; }
.pw-bar { height:100%; width:0%; background:var(--secondary); border-radius:999px; transition: width var(--transition-smooth); }
.pw-label { display:block; margin-top:.2rem; color:var(--text-muted); }

@media (max-width: 940px) {
  .auth-grid { grid-template-columns: 1fr; }
}

/* =========================================
   Responsive helpers
========================================= */
@media (max-width: 1024px) { .dashboard-cards { gap: 1rem; } }
@media (max-width: 600px)  { .dashboard-cards { grid-template-columns: 1fr; } }

/* =========================================
   Scrollbar (optional)
========================================= */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
body.dark *::-webkit-scrollbar-thumb { background: #475569; }

/* =========================================
   Footer
========================================= */
footer.container { padding: 1.25rem 0 2rem; color: var(--text-muted); font-size:.95rem; }

/* =========================================
   Accent Themes (html[data-accent])
========================================= */
html[data-accent="blue"] {
  --secondary: #4a90e2; --secondary-600: #3b78bf;
  --ring: 0 0 0 3px rgba(74, 144, 226, 0.25);
  --accent-soft-bg: rgba(74, 144, 226, 0.12);
  --accent-soft-bd: rgba(74, 144, 226, 0.28);
}
html[data-accent="ocean"] {
  --secondary:#14b8a6; --secondary-600:#0d9488; --ring:0 0 0 3px rgba(20,184,166,.28);
  --accent-soft-bg: rgba(20,184,166,.12); --accent-soft-bd: rgba(20,184,166,.28);
}
html[data-accent="emerald"] {
  --secondary:#22c55e; --secondary-600:#16a34a; --ring:0 0 0 3px rgba(34,197,94,.28);
  --accent-soft-bg: rgba(34,197,94,.12); --accent-soft-bd: rgba(34,197,94,.28);
}
html[data-accent="purple"] {
  --secondary:#8b5cf6; --secondary-600:#7c3aed; --ring:0 0 0 3px rgba(139,92,246,.3);
  --accent-soft-bg: rgba(139,92,246,.14); --accent-soft-bd: rgba(139,92,246,.3);
}
html[data-accent="amber"] {
  --secondary:#f59e0b; --secondary-600:#d97706; --ring:0 0 0 3px rgba(245,158,11,.3);
  --accent-soft-bg: rgba(245,158,11,.14); --accent-soft-bd: rgba(245,158,11,.3);
}
html[data-accent="rose"] {
  --secondary:#f43f5e; --secondary-600:#e11d48; --ring:0 0 0 3px rgba(244,63,94,.3);
  --accent-soft-bg: rgba(244,63,94,.14); --accent-soft-bd: rgba(244,63,94,.3);
}
html[data-accent="slate"] {
  --secondary:#64748b; --secondary-600:#475569; --ring:0 0 0 3px rgba(100,116,139,.3);
  --accent-soft-bg: rgba(100,116,139,.14); --accent-soft-bd: rgba(100,116,139,.3);
}

/* Accent picker swatches (optional helpers) */
.accent-picker { display:flex; gap:.45rem; align-items:center; }
.accent-swatch {
  width:18px; height:18px; border-radius:50%; border:2px solid var(--border);
  display:inline-block; cursor:pointer; transition: transform .15s ease, box-shadow .15s ease;
}
.accent-swatch:hover { transform: translateY(-1px); box-shadow: var(--shadow); }
.swatch-blue { background:#4a90e2; }
.swatch-ocean { background:#14b8a6; }
.swatch-emerald { background:#22c55e; }
.swatch-purple { background:#8b5cf6; }
.swatch-amber { background:#f59e0b; }
.swatch-rose { background:#f43f5e; }
.swatch-slate { background:#64748b; }
